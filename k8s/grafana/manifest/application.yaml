apiVersion: app.k8s.io/v1beta1
kind: Application
metadata:
  name: $APP_INSTANCE_NAME
  annotations:
    kubernetes-engine.cloud.google.com/icon: >-
      data:image/png;base64,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
    marketplace.cloud.google.com/deploy-info: '{partner_id: "click-to-deploy-containers", product_id: "grafana", partner_name: "Google Click to Deploy"}'
  labels:
    app.kubernetes.io/name: $APP_INSTANCE_NAME
spec:
  descriptor:
    type: Grafana
    version: '5.1'
    description: |-
      Grafana is an open-source platform for data visualization and monitoring. A large number of
      supported data sources makes it a universal visualization tool for many popular open source
      data collection systems - including Prometheus, InfluxDB, Elasticsearch, MySQL or PostgreSQL.

      # Support
      Google does not offer support for this solution. However, community support is available on
      [Stack Overflow](https://stackoverflow.com/questions/tagged/grafana/).
      Additional support is available on [community forums](https://community.grafana.com/).
    maintainers:
    - name: Google Click to Deploy
      url: https://cloud.google.com/solutions/#click-to-deploy
    links:
    - description: 'User Guide: Google Click to Deploy Grafana'
      url: https://github.com/GoogleCloudPlatform/click-to-deploy/blob/master/k8s/grafana/README.md
    - description: 'Grafana documentation'
      url: https://docs.grafana.org/
    notes: |-
      # Access Grafana UI

      Grafana is exposed in a ClusterP-only service `$APP_INSTANCE_NAME-grafana`. To connect to
      Grafana UI, you can either expose a public service endpoint or keep it private, but connect
      from you local environment with `kubectl port-forward`.

      ## Forward Grafana port in local environment

      You can use port forwarding feature of `kubectl` to forward Grafana's port to your local
      machine. Run the following command in background:

      ```shell
      kubectl port-forward --namespace ${NAMESPACE} ${APP_INSTANCE_NAME}-grafana-0 3000
      ```

      Now you can access Grafana UI with `http://localhost:3000/`.

      ## Login to Grafana

      Grafana is configured to require authentication. You can find username and password in the
      'Prometheus & Grafana info' section on the left. They are stored in
      `$APP_INSTANCE_NAME-grafana` secret.
  info:
  - name: Forward Grafana port locally
    value: kubectl port-forward --namespace ${NAMESPACE} ${APP_INSTANCE_NAME}-grafana-0 3000
  - name: Grafana UI URL
    value: http://localhost:3000/
  - name: Grafana username
    type: Reference
    valueFrom:
      type: SecretKeyRef
      secretKeyRef:
        name: $APP_INSTANCE_NAME-grafana
        key: admin-user
  - name: Grafana password
    type: Reference
    valueFrom:
      type: SecretKeyRef
      secretKeyRef:
        name: $APP_INSTANCE_NAME-grafana
        key: admin-password
  selector:
    matchLabels:
      app.kubernetes.io/name: $APP_INSTANCE_NAME
  componentKinds:
  - group: v1
    kind: ConfigMap
  - group: v1
    kind: PersistentVolumeClaim
  - group: apps/v1beta2
    kind: StatefulSet
  - group: v1
    kind: Service
  - group: v1
    kind: Secret

---
# Source: django/templates/nginx-secrets.yaml
apiVersion: v1
kind: Secret
metadata:
  name: django-1-nginx-secret
  labels:
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: nginx-server
data:
  https1.cert: |
    LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURJVENDQWdtZ0F3SUJBZ0lVUy9HS3VuQVNk
    dWI5OVozeFpsWGlnZ3NqV2o4d0RRWUpLb1pJaHZjTkFRRUwKQlFBd0lERU9NQXdHQTFVRUF3d0Zi
    bWRwYm5neERqQU1CZ05WQkFvTUJXNW5hVzU0TUI0WERUSXlNVEl3TnpFMApOVGt5T0ZvWERUSXpN
    VEl3TnpFME5Ua3lPRm93SURFT01Bd0dBMVVFQXd3RmJtZHBibmd4RGpBTUJnTlZCQW9NCkJXNW5h
    VzU0TUlJQklqQU5CZ2txaGtpRzl3MEJBUUVGQUFPQ0FROEFNSUlCQ2dLQ0FRRUF4Smo5M0pxSWNJ
    MVQKMjhDUDRRMStNK2xYMlVKSlNhNkVLTjFkZExWcmJ4dy9PQ0RVWUtyU2Mxd0oydVJNQ2J0WkxL
    Z29iSHRuR3BnMwpoSGtuT05xZko3RVg0dnVFUmQrMW1WT3NjZjlpQ1hyNDNxVUp6Mm53c2I5MnJ4
    MVh0VnhMTVFXWVhwUk0rZitTCjduaFV5MmpyRmJHTHVXcEFQWEpUMzZsWi9OUVVveEh6VTJNWi9q
    dmNSWE9QY0doa3A3aFVuVlMwby9sZE9zL1kKdHN3T3drdmVaMk42WWNGQ093SUxuM0pFeC9SL0Z5
    MWNRdnRTSE5xakpacVJtUkliM2FzblRFTGMwdm9TOFlMWApDa1l2bFV5Wk9La1hFNytERVkwUDBJ
    WXU1dEQyNVE4VTVvL2diVVIxQkY1dGZqWXVVSkFoaWxpcGZVckcrREVRCjVjK3RxUmEwY1FJREFR
    QUJvMU13VVRBZEJnTlZIUTRFRmdRVXhZOGNoTjdWdzlnSVZDWVNxMFl1blVGbjVnRXcKSHdZRFZS
    MGpCQmd3Rm9BVXhZOGNoTjdWdzlnSVZDWVNxMFl1blVGbjVnRXdEd1lEVlIwVEFRSC9CQVV3QXdF
    QgovekFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBSTJnclF3WS9wNGZtSjMycnd1anJ2NUg0NnBY
    TCtQNG1hdFp2CmxzUG0xd3hoVm9NMlJyQjhwc1AvS2hNc0x6SDByM29za0RwOHVBdk9HRTZQNHhn
    QmJueTN2V1B4Nk11eVc0K1IKL0lPZlhYTmY1SjY5bm9jOC9EcFNteGsrb3VNZDV5S0Vzd3JKREpB
    VXc1Y0tHNmsrYVY2aDQrNklRdmF5K01uVQpBSTk2aGZpS2RXa3JwaWVtVGR5MXY0UGVBYlFRTUUv
    cEpKaEZmTVArL0FPem1DUElNOFBqOHcyWEdXZ2FqblF3Cm9kb0NRWXVXZnVVTGNVVUpsU2VMdXF1
    eXNNV0xKNlF3OUp3MVg5T3lGK2FjM3dtNDQzQ3Z0WXlLRWZwRFZqYWwKRklWRGtkMy80T2tuNFF1
    VC81dm15NkhRQUVtUEhHV1FsZUM3RWdBNWtYL0llMW1VVWc9PQotLS0tLUVORCBDRVJUSUZJQ0FU
    RS0tLS0tCg==
  https1.key: |
    LS0tLS1CRUdJTiBQUklWQVRFIEtFWS0tLS0tCk1JSUV2UUlCQURBTkJna3Foa2lHOXcwQkFRRUZB
    QVNDQktjd2dnU2pBZ0VBQW9JQkFRREVtUDNjbW9od2pWUGIKd0kvaERYNHo2VmZaUWtsSnJvUW8z
    VjEwdFd0dkhEODRJTlJncXRKelhBbmE1RXdKdTFrc3FDaHNlMmNhbURlRQplU2M0MnA4bnNSZmkr
    NFJGMzdXWlU2eHgvMklKZXZqZXBRblBhZkN4djNhdkhWZTFYRXN4QlpoZWxFejUvNUx1CmVGVExh
    T3NWc1l1NWFrQTljbFBmcVZuODFCU2pFZk5UWXhuK085eEZjNDl3YUdTbnVGU2RWTFNqK1YwNno5
    aTIKekE3Q1M5NW5ZM3Bod1VJN0FndWZja1RIOUg4WExWeEMrMUljMnFNbG1wR1pFaHZkcXlkTVF0
    elMraEx4Z3RjSwpSaStWVEprNHFSY1R2NE1SalEvUWhpN20wUGJsRHhUbWorQnRSSFVFWG0xK05p
    NVFrQ0dLV0tsOVNzYjRNUkRsCno2MnBGclJ4QWdNQkFBRUNnZ0VBQU9oZk9HVVBNNzFjdUJ3emZz
    MlNqcWY2VkJmaFVLQ1phYnFuTnhxN2tQVnAKWHJseGZkRzFnSFBLN0kvTmhHMExYclllb3hLSFFp
    bVdkaWFYS3hCRWhVTlY4T1hnM0pWK01LOEtONXlHdDlLYQo4THRIL1FVcjl0cldScDlMbHZhS1hM
    QU5PRWczOHNSQWZwaHVzWERMQ3JoN1h3WG5nVklRb3ZSdkdUbGpWWmZCCnlVejB4SnZKcnZDNDIv
    blhlQmFPbGhBUVBIS2VhTHdkenpkOVFPK3M4QWlkWnlWVk9ocjRXTzkrT1RGYjk4L1cKYnlLaTVG
    VkFONUswWTFFM2FDK1BKNUt4YXFyWS9sTEJpZ1lsZDZwNkJSUkJvY2tUaUo1UUJZUlo0WHhIREFY
    NQpITUp3QWNDVHdkNk13d084MmpBQkhIcVJqQnlGLzljVDFNcDRNeWsyZ1FLQmdRRHB3K0ZaanNp
    TTRTUmg5THZyClVrNjExbkpraU41eWdYNlZXOTJxeEx2S05UOGlEUGxNWHZDZzFJd0Q3UzZkWUtu
    SW9VVlVhWTdwR2xGUjFmL2QKZzNSNlhVZDJKRERENFh1T29oOWRrS1BhT2pCUVk1ZXgvSzM1MnpM
    RytlNjVvTFpnOGVwcGpVKzg5dGdFMVI4cgorOHQ0djhRYmUybEkrU1Q3V3BuV3ptdmJ4UUtCZ1FE
    WFRCZDkwVkc0TG9STWkwMzlFMlpjd25QZ1pTR29MMnJICjVwS2U4OUdVUGlwK3dTWE51YWxyZURq
    Ni84RWVDT1NjM0laOWs3anllcTQxZmRVRDFiYWk2d2V6dzl6bndHb2kKNjJkWnBGdXNxRmM2bS9L
    K2h5cVdnQ2lFMUNvL3pLUDhHRU1TKzFUSkYrcE4yenIwS1Q1Ny9aeitOQlhhUVRqQgpEVDdCWG5M
    a3ZRS0JnQm91WWhMUnR3eHdPczd0eGc0NURhKzM4Ti9wcEdCV3VJS3A0MDI0OHY5V3IxZDA5SWJs
    Ckt6WVlHQVpvamd2NlE0bkE1aTdxRTZOdjJ5TzdRQWpqTEN4NFBnU3hVUFRmVUNOTmJRM2hvVGhU
    eEExODJnU0oKTkVNRGxkQkxOYjE4am5DVko1Zml4OGQyTGdOOGl4MDEramZ2NGxyaG00MGN1bE9j
    ZGhaazBCZXhBb0dBQ2JlbgpmOGhJMWZWVGgxanFSamZ2OE5QZUF3ek5maGZWeS92K05pcHZGUy9S
    SHpOOGoxS0g4US9XRW80a20wUnZmUnorCi9RQUQ0djNpaXd1STU4bG5tdWJjekNKVkFDalJJWTVh
    ZGROVFIvRzVMaTRId00yOUFGbjhlakpSVGR2Z3N1b3QKYk5mbk5jUmNrUE1LTUNjRWFQaERjNzNL
    RnJYRzUvKy9DMTlGOUVrQ2dZRUFpTXk5K2h1YU9KNWExNFZGT3RzNgoxc0dYNFhkcndBSWxhTWlK
    NVNDRGdWKzBQRGdhTllBM0JPTWxtajUwUVJRekd3VURudEpmYXpaNy9SaU9iY3lBCjFpZVhpb2xZ
    dUQxakFBeWg0MzR6akRzM0NTSVhaUnZodndPbzRLYVpKUEl3cHZjaUFTbUlyQVlPZUhjeStGYXoK
    Z245SE1kV0ZDUlFlSjlhZWhFWUZMaDA9Ci0tLS0tRU5EIFBSSVZBVEUgS0VZLS0tLS0K
---
# Source: django/templates/postgresql-secrets.yaml
apiVersion: v1
kind: Secret
metadata:
  name: django-1-postgresql-secret
  labels:
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: postgresql-server
type: Opaque
data:
  db-user: "bXlzaXRl"
  db-password: "bWgxZThZWFF6SzV2eFNQdUhSdG4="
---
# Source: django/templates/nginx-config.yaml
apiVersion: v1
kind: ConfigMap
metadata:
  name: django-1-nginx-configmap
  labels:
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: nginx-server
data:
  index.html: |
   <!DOCTYPE>
    <html>
     <head> <title>Web Server Application</title> </head>
     <body> <h1>Web site powered by NGINX</h1>
     <p>This page is under construction. Please come back soon!</p></body>
    </html>
  nginx-config.conf: |
   ssl_certificate      certs/https1.cert;
   ssl_certificate_key  certs/https1.key;
    upstream django {
      server django-1-django-svc:8080;
    }

    # configuration of the server
    server {
        # the port your site will be served on
        listen      80;
        listen 443 ssl;

        location /stub_status {
          stub_status on;
          access_log off;
          allow 127.0.0.1;
          deny all;
        }

        # the domain name it will serve for
        server_name localhost; # substitute your machine's IP address or FQDN
        charset     utf-8;

        # max upload size
        client_max_body_size 75M;   # adjust to taste

        # Django media
        location /media  {
            alias /path/to/your/mysite/media;  # your Django project's media files - amend as required
        }

        location /static {
            alias /path/to/your/mysite/static; # your Django project's static files - amend as required
        }

        # Finally, send all non-media requests to the Django server.
        location / {
            uwsgi_pass   django-1-django-svc:8080;
            uwsgi_read_timeout 300;
            include     uwsgi_params;
        }
    }
---
# Source: django/templates/nfs-pvc.yaml
apiVersion: v1
kind: PersistentVolume
metadata:
  name: django-1-nfs-django
spec:
  persistentVolumeReclaimPolicy: "Delete"
  capacity:
    storage: "5Gi"
  storageClassName: ""
  accessModes:
    - ReadWriteMany
  nfs:
    server: django-1-nfs-server.default.svc.cluster.local
    path: "/"
---
# Source: django/templates/nfs-pvc.yaml
kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  name: django-1-nfs-server-pvc
spec:
  storageClassName: "standard"
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: "5Gi"
---
# Source: django/templates/nfs-pvc.yaml
kind: PersistentVolumeClaim
apiVersion: v1
metadata:
  name: django-1-nfs-django
  labels:
    app: django
    name: django-1
spec:
  accessModes:
    - ReadWriteMany
  storageClassName: ""
  resources:
    requests:
      storage: "5Gi"
---
# Source: django/templates/django-services.yaml
apiVersion: v1
kind: Service
metadata:
  name: django-1-django-svc
  labels:
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: django-server
spec:
  ports:
  - name: uwsgi
    port: 8080
    protocol: TCP
  - name: stats
    port: 1717
    protocol: TCP
  selector:
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: django-server
  type: ClusterIP
---
# Source: django/templates/nfs-service.yaml
apiVersion: v1
kind: Service
metadata:
  name: django-1-nfs-server
spec:
  ports:
    - name: nfs
      port: 2049
      protocol: TCP
    - name: mountd
      port: 20048
      protocol: TCP
  selector:
    role: nfs-server
---
# Source: django/templates/nginx-services.yaml
apiVersion: v1
kind: Service
metadata:
  name: django-1-nginx-prometheus-svc
  labels:
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: nginx-server
spec:
  clusterIP: None
  ports:
  - name: prometheus-port
    port: 9113
    protocol: TCP
  selector:
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: nginx-server
---
# Source: django/templates/nginx-services.yaml
apiVersion: v1
kind: Service
metadata:
  name: django-1-nginx-svc
  labels:
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: nginx-server
spec:
  ports:
  - name: nginx-http-port
    port: 80
    protocol: TCP
  - name: nginx-https-port
    port: 443
    protocol: TCP
  selector:
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: nginx-server
  
  type: LoadBalancer
---
# Source: django/templates/postgresql-services.yaml
apiVersion: v1
kind: Service
metadata:
  name: django-1-postgresql-svc
  labels: &PostgreSQLLabels
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: postgresql-server
spec:
  ports:
  - name: postgres
    port: 5432
    targetPort: 5432
  selector: *PostgreSQLLabels
  type: ClusterIP
---
# Source: django/templates/postgresql-services.yaml
kind: Service
apiVersion: v1
metadata:
  name: django-1-postgresql-exporter-svc
  labels: &PostgreSQLLabels
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: postgresql-server
spec:
  ports:
  - name: prometheus-exporter
    port: 9187
  selector: *PostgreSQLLabels
  type: ClusterIP
---
# Source: django/templates/django-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: django-1-django
  labels: &DjangoDeploymentLabels
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: django-server
spec:
  strategy:
    type: Recreate
  replicas: 1
  selector:
    matchLabels: *DjangoDeploymentLabels
  template:
    metadata:
      labels: *DjangoDeploymentLabels
    spec:
      securityContext:
        fsGroup: 1000
      containers:
      - image: "gcr.io/ccm-ops-test-adhoc/django4:4.1"
        name: django
        imagePullPolicy: Always
        env:
        - name: C2D_DJANGO_SITENAME
          value: "mysite"
        - name: C2D_DJANGO_PORT
          value: "8080"
        - name: C2D_DJANGO_ALLOWED_HOSTS
          value: "'.localhost', '127.0.0.1', '[::1]', 'django-1-django-svc'"
        - name: C2D_DJANGO_DB_TYPE
          value: "postgresql"
        - name: C2D_DJANGO_DB_NAME
          value: "mysite"
        - name: C2D_DJANGO_DB_USER
          valueFrom:
            secretKeyRef:
              name: "django-1-postgresql-secret"
              key: db-user
        - name: C2D_DJANGO_DB_PASSWORD
          valueFrom:
            secretKeyRef:
              name: "django-1-postgresql-secret"
              key: db-password
        - name: C2D_DJANGO_DB_HOST
          value: "django-1-postgresql-svc"
        - name: C2D_DJANGO_DB_PORT
          value: "5432"
        ports:
        - containerPort: 8080
          name: uwsgi
        - containerPort: 1717
          name: stats
        livenessProbe:
          tcpSocket:
            port: uwsgi
          initialDelaySeconds: 10
          periodSeconds: 10
        readinessProbe:
          tcpSocket:
            port: uwsgi
          initialDelaySeconds: 10
          periodSeconds: 10
        lifecycle:
          preStop:
            exec:
              command: ["/bin/bash", "-c", "pkill -SIGTERM uwsgi"]
        volumeMounts:
        - name: django-data
          mountPath: /sites
      volumes:
        - name: django-data
          persistentVolumeClaim:
            claimName: django-1-nfs-django
      restartPolicy: Always
---
# Source: django/templates/nfs-deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: django-1-nfs-server
  labels:
    name: "django-1"
    component: nfs-server
spec:
  replicas: 1
  selector:
    matchLabels:
      role: nfs-server
  template:
    metadata:
      labels:
        role: nfs-server
    spec:
      initContainers:
      - name: django-1-nfs-changeowner
        image: busybox
        command: ["sh", "-c", "mkdir -p /sites && chmod -R 777 /sites"]
        volumeMounts:
          - mountPath: /sites
            name: django-1-nfs-server-pvc
      containers:
      - name: django-1-nfs-server
        image: "marketplace.gcr.io/google/nfs-server1:1.3"
        ports:
          - name: nfs
            containerPort: 2049
          - name: mountd
            containerPort: 20048
        securityContext:
          privileged: true
        volumeMounts:
          - mountPath: /exports
            name: django-1-nfs-server-pvc
      volumes:
        - name: django-1-nfs-server-pvc
          persistentVolumeClaim:
            claimName: django-1-nfs-server-pvc
---
# Source: django/templates/nginx-statefulset.yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: django-1-nginx
  labels: &NginxDeploymentLabels
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: nginx-server
spec:
  selector:
    matchLabels: *NginxDeploymentLabels
  updateStrategy:
    type: RollingUpdate
  serviceName: django-1-nginx-svc
  replicas: 1
  volumeClaimTemplates:
  - metadata:
      name: django-1-nginx-pvc
      labels: *NginxDeploymentLabels
    spec:
      accessModes: [ "ReadWriteOnce" ]
      storageClassName: standard
      resources:
        requests:
          storage: 1Gi
  template:
    metadata:
      labels: *NginxDeploymentLabels
    spec:
      terminationGracePeriodSeconds: 180
      initContainers:
      # This init container is reponsible for creating default index html file
      - name: initialize-volume
        image: gcr.io/ccm-ops-test-adhoc/django/debian:4.1
        imagePullPolicy: Always
        command:
        - /bin/bash
        - -euc
        - |
          if [[ ! -f /usr/share/nginx/html/index.html ]]; then
          cat <<EOF >/usr/share/nginx/html/index.html
          <!DOCTYPE>
          <html>
            <head>
              <title>Web Server Application</title>
            </head>
            <body>
               <h1>Web site powered by NGINX</h1>
               <p>This page is under construction. Please come back soon!</p>
            </body>
          </html>
          EOF
          fi
        volumeMounts:
        - name: django-1-nginx-pvc
          mountPath: /usr/share/nginx/html
      containers:
      - name: nginx
        image: "gcr.io/ccm-ops-test-adhoc/django/nginx:4.1"
        imagePullPolicy: Always
        resources:
          requests:
            cpu: 100m
            memory: 100Mi
        ports:
        - name: nginx
          containerPort: 80
          protocol: TCP
        - name: nginx-https
          containerPort: 443
          protocol: TCP
        - name: prometheus
          containerPort: 9113
          protocol: TCP
        livenessProbe:
          tcpSocket:
            port: nginx
          initialDelaySeconds: 10
          timeoutSeconds: 5
        readinessProbe:
          tcpSocket:
            port: nginx
          initialDelaySeconds: 10
          timeoutSeconds: 5
        volumeMounts:
        - name: django-1-nginx-pvc
          mountPath: /usr/share/nginx/html
        - name: nginx-config
          mountPath: /etc/nginx/conf.d
          readOnly: true
        - name: certs
          mountPath: /etc/nginx/certs
          readOnly: true
      - name: prometheus-exporter
        image: gcr.io/ccm-ops-test-adhoc/django/nginx-exporter:4.1
        imagePullPolicy: Always
        ports:
        - containerPort: 9113
          name: prometheus-port
        env:
        - name: "SCRAPE_URI"
          value: "http://localhost/stub_status"
        - name: NGINX_RETRY_INTERVAL
          value: "10s"
        - name: NGINX_RETRIES
          value: "40"
      
      volumes:
      - name: certs
        secret:
          secretName: django-1-nginx-secret
      - name: nginx-config
        configMap:
          name: django-1-nginx-configmap
          items:
          - key: nginx-config.conf
            path: nginx-config.conf
---
# Source: django/templates/postgresql-statefulset.yaml
apiVersion: apps/v1
kind: StatefulSet
metadata:
  name: django-1-postgresql
  labels: &PostgreSQLLabels
    app.kubernetes.io/name: django-1
    app.kubernetes.io/component: postgresql-server
spec:
  replicas: 1
  selector:
    matchLabels: *PostgreSQLLabels
  serviceName: django-1-postgresql-svc
  template:
    metadata:
      labels: *PostgreSQLLabels
    spec:
      containers:
      - name: postgresql
        image: marketplace.gcr.io/google/postgresql13:13.8
        imagePullPolicy: IfNotPresent
        resources:
          requests:
            cpu: 100m
            memory: 100Mi
        ports:
        - containerPort: 5432
          name: postgres
        volumeMounts:
        - name: django-1-postgresql-pvc
          mountPath: /var/lib/postgresql/data
        env:
        - name: PGDATA
          value: "/var/lib/postgresql/data/pgdata"
        - name: POSTGRES_USER
          valueFrom:
            secretKeyRef:
              name: django-1-postgresql-secret
              key: db-user
        - name: POSTGRES_PASSWORD
          valueFrom:
            secretKeyRef:
              name: django-1-postgresql-secret
              key: db-password
      - name: prometheus-exporter
        image: marketplace.gcr.io/google/postgresql-exporter0:0.8.0
        imagePullPolicy: Always
        ports:
        - containerPort: 9187
          name: exporter
        env:
        - name: "DATA_SOURCE_URI"
          value: "localhost:5432/postgres?sslmode=disable"
        - name: "DATA_SOURCE_USER"
          valueFrom:
            secretKeyRef:
              name: django-1-postgresql-secret
              key: db-user
        - name: "DATA_SOURCE_PASS"
          valueFrom:
            secretKeyRef:
              name: django-1-postgresql-secret
              key: db-password
  volumeClaimTemplates:
  - metadata:
      name: django-1-postgresql-pvc
      labels: *PostgreSQLLabels
    spec:
      accessModes:
      - ReadWriteOnce
      storageClassName: 
      resources:
        requests:
          storage: 8Gi
---
# Source: django/templates/application.yaml
apiVersion: app.k8s.io/v1beta1
kind: Application
metadata:
  name: "django-1"
  annotations:
    kubernetes-engine.cloud.google.com/icon: >-
      data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIIAAACCCAMAAAC93eDPAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURQAAAACbAACbAACbAACbAACbAACbAACbAACbAACbAACbAACbAACYAACbAACbAACbAACbAACbAACbAACbAACbAACbAACWAACbAACZAACbAACaAACbAACbAACbAACaAACbAACbAACbAACbAACaAACaAACbAACZAACbAACbAACbAACbAACbAACaAACaAACbAACaAACbAACZAACbAACaAACaAACbAACaAACbAACbAACaAACaAACaAACaAACaAACbAACbAACaAACbAACbAACZAACbAACaAACbAACbAACYAACbAACaAACbAACZAACbAACbAACbAACaAACbAACbAACbAACbAACbAACaAACbAACbAACZAACaAACaAACbAACaAACaAACaAACbAACaAACbAACbAACbAACZAACaAACbAACaAACaAACbAACaAACaAACaAACaAACbAACbAACbAACaAACbAACbAACbAACaAACbAACaAACZAACaAACaAACbAACaAACaAACbAACbAACbAACbAACbAACaAACaAACaAACbAACbAACbAACaAACbAACaAACaAACbAACaAACaAACbAACaAACbAACbAACbAACbAACbAACbAACXAACZAACaAACbAACbAACbAACaAACbAACbAACbAACaAACbAACbAACbAACbAACbAACaAACbAACZAACaAACbAACbAACbAACbAACbAACaAACaAACaAACbAACaAACbAACbAACZAACaAACVAACbAACbAACaAACbAACbAACaAACaAACbAACbAACbAACbAACbAACbAACbAACaAACaAACbAACbAACaAACbAACbAACbAACbAACbAACaAACbAACZAACaAACZAACbAACbAACbAACbAACaAACZAACaAACbAACaAACbAACbAACbAACaAACaAACbAACbAACbAACaAACaAACbAACaAACbAACbAACaAACaAACaAACaAACaAACaAACaAACaAACbAACaAACaAACbAACbAACbAACaAACbANJeAvUAAAD/dFJOUwCoSvxPpP77+swo6wOmkD/1+HXx/YIB9wbOCL2j8Az5uYj0Hw3hDoHDwJ3qBxqgNewC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
    marketplace.cloud.google.com/deploy-info: '{"partner_id": "click-to-deploy-containers", "product_id": "django", "partner_name": "Google Click to Deploy"}'
  labels:
    app.kubernetes.io/name: "django-1"
spec:
  descriptor:
    type: Django by Google Click to Deploy
    version: "4.1"
    description: |-
      Django is a free, open-source and high-level Python
      web framework that encourages rapid development and clean,
      pragmatic design. Solution runs on UWSGI application server
      and can be exposed for tcp or http connections.

      # Support

      This image is built by Google. It is your responsibility to keep
      container images you run or store in your own repositories
      up to date with security patches.

      Community support for Django is available on
      [Stack Overflow](http://stackoverflow.com/questions/tagged/django/).

      Please report issues with this NGINX container image via
      the [GitHub Issue Tracker](https://github.com/GoogleCloudPlatform/nginx-docker/issues).
    maintainers:
    - name: Google Click to Deploy
      url: https://cloud.google.com/solutions/#click-to-deploy
    links:
    - description: 'User Guide: Google Click to Deploy Django'
      url: https://github.com/GoogleCloudPlatform/click-to-deploy/blob/master/k8s/django/README.md
    - description: 'Django: Getting Started'
      url: https://www.djangoproject.com/start/
    notes: |-
      Hey yo
  info:
  - name: NGINX External IP
    type: Reference
    valueFrom:
      serviceRef:
        name: django-1-nginx-svc
        protocol: HTTPS
  - name: Application Namespace
    value: default
  selector:
    matchLabels:
      app.kubernetes.io/name: "django-1"
  componentKinds:
  - group: v1
    kind: ConfigMap
  - group: v1
    kind: PersistentVolume
  - group: v1
    kind: PersistentVolumeClaim
  - group: apps/v1
    kind: StatefulSet
  - group: apps/v1
    kind: Deployment
  - group: v1
    kind: Secret
  - group: v1
    kind: Service

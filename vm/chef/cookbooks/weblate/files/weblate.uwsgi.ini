[uwsgi]
plugins-dir   = /usr/lib/uwsgi/plugins
plugins       = python3
master        = true
protocol      = http
socket        = 127.0.0.1:8080
wsgi-file     = /opt/weblate-env/lib/python3.7/site-packages/weblate/wsgi.py
harakiri      = 20

virtualenv = /opt/weblate-env

# Needed for OAuth/OpenID
buffer-size   = 65535

# Reload when consuming too much of memory
reload-on-rss = 250

# Increase number of workers for heavily loaded sites
workers       = 2

# Enable threads for Sentry error submission
enable-threads = true

# Child processes do not need file descriptors
close-on-exec = true

# Avoid default 0000 umask
umask = 0022

# Run as weblate user
uid = weblate
gid = weblate

ignore-sigpipe = true
ignore-write-errors = true
disable-write-exception = true
